(this["webpackJsonprecipeshoppinglist2.0"]=this["webpackJsonprecipeshoppinglist2.0"]||[]).push([[0],{30:function(e,t,n){},50:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),c=n(24),a=n.n(c),s=(n(30),n(8)),l=n(4),o=n(16),d=n(2),b=n(0);var u=function(e){var t=e.recipe,n=e.button,i=e.buttonText,r=e.ingredientButton,c=e.removeFromRecipes,a=e.recipeIndex,s=e.editRecipe,l=window.location.pathname;return Object(b.jsxs)("article",{className:"center mw6 br3 bg-nearwhite w-90   hidden shadow-4 ttc ba b--black-10 mv4 ",children:[Object(b.jsxs)("div",{className:"bg-dark-gray ph4 borrad--top flex justify-between items-center",children:[Object(b.jsx)("h2",{className:"white dib mr3",children:t.name}),""===t.link?null:Object(b.jsx)("a",{className:"link dim white dib mr3",target:"_blank",rel:"noopener noreferrer",href:t.link,children:"Recipe link"}),Object(b.jsxs)("div",{children:["/recipes"===l?Object(b.jsx)("button",{value:t.id,onClick:function(e){return s(e)},className:"link bn white pointer bg-transparent dib mr3",children:"Edit"}):null,Object(b.jsx)("button",{href:"#",value:t.id+"-"+a,onClick:function(e){return c(e)},className:" link bn white pointer bg-transparent dib mr3",children:"X"})]})]}),Object(b.jsx)("div",{className:"pa3 bt b--black-10 flex",children:Object(b.jsxs)("form",{className:"bn ph1 tc center w-80 ",children:[t.ingredients.map((function(e,n){return Object(b.jsxs)("div",{className:"items-center mb1 bb b--light-silver flex justify-between",children:[Object(b.jsx)("div",{htmlFor:e,className:"lh-copy",children:e}),"/"===l?Object(b.jsx)("button",{className:"mr2 ba ph1   b--moon-gray gray br2  tc bg-white hover-bg-near-white pointer",onClick:r,name:a,value:e+n,children:"X"}):null]},"".concat(e,"-").concat(t.id,"-").concat(n))})),t.ingredients.length>0?Object(b.jsx)("button",{className:"pv2 mb1 ph3 w-100 bg-white pointer hover-bg-near-white center tc ba b--moon-gray br2 shadow-4",onClick:n,value:t.id+"-"+a,children:i}):null]})})]})},h=function(e){var t=e.inputList,n=e.setInputList,r=function(){n([].concat(Object(s.a)(t),[{ingredient:"",ingredientRef:null}]))};return Object(i.useEffect)((function(){t[t.length-1].ingredientRef&&t[t.length-1].ingredientRef.focus()}),[t.length]),t.map((function(e,i){return Object(b.jsxs)("div",{className:"flex flex-row w-50-ns mv1 w-90 center b--gray ba bg-transparent br2  ",children:[Object(b.jsx)("input",{value:e.ingredient,name:"ingredient",placeholder:"Ingredient",onChange:function(e){return function(e,i){var r=e.target,c=r.name,a=r.value,l=Object(s.a)(t);l[i][c]=a,n(l)}(e,i)},onKeyDown:function(e){"Enter"===e.key&&r()},ref:function(t){return e.ingredientRef=t},className:"w-100 pr-5 pv2 br2 ph1 flex-grow-2hover-bg-light-gray bn input-reset ",autoComplete:"off"}),Object(b.jsxs)("div",{className:"flex",children:[t.length-1===i&&Object(b.jsx)("button",{onClick:r,className:"ba bg-transparent pointer b--light-silver br2 hover-bg-light-gray ",children:"+"}),1!==t.length&&Object(b.jsx)("button",{onClick:function(){return function(e){var i=Object(s.a)(t);i.splice(e,1),n(i)}(i)},className:"ba bg-transparent pointer b--light-silver br2 hover-bg-light-gray ",children:"x"})]})]},i)}))},p=function(e){var t=e.setOddBits,n=e.oddBits,r=Object(i.useState)(n.map((function(e){return{ingredient:e,ingredientRef:null}}))),c=Object(l.a)(r,2),a=c[0],s=c[1];return Object(i.useEffect)((function(){var e=a.map((function(e,t){return e.ingredient}));t(e)}),[a]),Object(b.jsxs)("article",{className:"center mw6 br3 ttc bg-nearwhite w-90 w-80-m w-50-ns hidden shadow-4 ba b--black-10 mv4",children:[Object(b.jsx)("div",{className:"bg-dark-gray ph4 borrad--top flex  justify-between items-center",children:Object(b.jsx)("h2",{className:"white dib mr3",children:"Odd Bits"})}),Object(b.jsx)("div",{className:"pa3 bt flex flex-column b--black-10 center flex",children:Object(b.jsx)(h,{inputList:a,setInputList:s})})]})},j=function(e){var t=e.className,n=e.button,i=e.value,r=e.inner;return Object(b.jsx)("button",{className:"pv1 mb1 ph3 w-100 pointer bg-white hover-bg-near-white center tc ba b--moon-gray br2 shadow-4 ".concat(t),onClick:n,value:i,children:r})},m=n(10),g=n.n(m),f=n(18),O=n.n(f);var v=function(e){var t=e.recipes,n=e.cardButton,i=e.ingredientButton,r=e.oddBits,c=e.setOddBits,a=e.sortShopping,s=t.map((function(e){return e.id}));return Object(b.jsx)("div",{className:"center pb6",children:Object(b.jsxs)(g.a,{children:[Object(b.jsx)("h2",{className:"tc w-90 w-80-m w-50-ns mw6 center pv3 bg-nearwhite shadow-4 br3",children:"Shopping List"}),s.includes("sort")||0===t.length?null:Object(b.jsx)("div",{className:"tc w-90 w-80-m w-50-ns mw6 center",children:Object(b.jsx)(j,{className:" pointer pv3",value:"AddRecipe",inner:"Sort shopping list",button:a})}),Object(b.jsx)(p,{setOddBits:c,oddBits:r}),0===t.length?Object(b.jsxs)("div",{className:"tc w-90 w-80-m w-50-ns mw6 center pv3 bg-nearwhite shadow-4 br3",children:[Object(b.jsx)("h2",{className:"tc center",children:"No recipes in your shopping list."}),Object(b.jsx)("h2",{className:"tc center",children:"Go to Recipes to add some!"})]}):Object(b.jsx)(g.a,{children:Object(b.jsx)(O.a,{breakpointCols:{default:3,1400:2,1e3:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:t.map((function(e,t){return Object(b.jsx)(u,{removeFromRecipes:n,recipe:e,button:n,buttonText:"Done",ingredientButton:i,recipeIndex:t},e.name+t)}))})})]})})},w=n(12),x=n(9),N=function(e){var t=e.searchField,n=e.searchChange;return Object(b.jsx)("div",{className:"pa2 tc w-100 center pv2  bg-nearwhite shadow-4 br3",children:Object(b.jsx)("input",{className:"ma1 pa2 w-80-m input-reset ba bg-transparent br2 hover-bg-light-gray w-50-ns w-90",type:"search",placeholder:"Search Recipes",onChange:n,value:t})})};var y=function(e){var t=e.recipes,n=e.cardButton,r=e.removeFromRecipes,c=e.onSearchChange,a=e.searchField,s=e.setRecipes,o=Object(i.useState)({id:"",name:"",link:"",ingredients:[]}),d=Object(l.a)(o,2),p=d[0],m=d[1],f=Object(i.useState)([{ingredient:"",ingredientRef:null}]),v=Object(l.a)(f,2),y=v[0],k=v[1],S=function(e){m((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(w.a)({},e.target.name,e.target.value))}))},R=function(e){e.preventDefault();var n=t.find((function(t){return t.id===e.target.value}));m(n)};return Object(i.useEffect)((function(){m((function(e){return Object(x.a)(Object(x.a)({},e),{},{ingredients:y.map((function(e){return e.ingredient})).filter(Boolean)})}))}),[y]),Object(i.useEffect)((function(){var e=[];if(""===p.id)return[{ingredient:"",ingredientRef:null}];e=p.ingredients.map((function(e){return{ingredient:e,ingredientRef:null}})),k(e)}),[p.ingredients.length]),Object(b.jsx)("div",{className:"pb6",children:Object(b.jsxs)(g.a,{children:[Object(b.jsx)("h2",{className:"tc w-90 w-80-m w-50-ns mw6 center pv3 bg-nearwhite shadow-4 br3",children:"Recipe List"}),""===p.id?null:Object(b.jsxs)("article",{className:"center w-90 w-80-m w-50-ns mw6 bg-nearwhite shadow-4 br3 hidden ba b--black-10 pa2 mv4",children:[Object(b.jsx)("h2",{className:"tc w-90 w-80-m w-50-ns mw6 center mv1",children:"Edit Recipe"}),Object(b.jsxs)("div",{className:"tc pa1 ph2-ns w-100 ",children:[Object(b.jsxs)("div",{className:"ph2",children:[Object(b.jsx)("input",{name:"name",placeholder:"Recipe Name",className:" ma1 ph1 pv2 input-reset ba bg-transparent br2 hover-bg-light-gray w-50-ns w-90  ",onChange:S,value:p.name,autoComplete:"off"}),Object(b.jsx)("input",{name:"link",placeholder:"Link",className:" ma1 ph1 pv2 input-reset ba bg-transparent br2 hover-bg-light-gray w-50-ns w-90 ",onChange:S,value:p.link,autoComplete:"off"})]}),Object(b.jsx)(h,{inputList:y,setInputList:k})]}),Object(b.jsx)("div",{className:"center ph1 tc w-50-ns w-90",children:Object(b.jsx)(j,{className:"pv3 w-90",value:"editRecipe",inner:"Done",button:function(e){e.preventDefault(),s(t.map((function(e){return p.id===e.id?p:e}))),m({id:"",name:"",link:"",ingredients:[]}),k([{ingredient:"",ingredientRef:null}])}})})]}),Object(b.jsx)("div",{className:"center mw6 br3 bg-nearwhite w-90 w-80-m w-50-ns ma2 hidden shadow-4 ttc ba b--black-10 mv4",children:Object(b.jsx)("div",{className:"",children:Object(b.jsx)(N,{searchChange:c,searchField:a})})}),t.length>0?Object(b.jsx)(O.a,{breakpointCols:{default:3,1400:2,1e3:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:t.map((function(e,t){return Object(b.jsx)(u,{recipeIndex:t,removeFromRecipes:r,recipe:e,button:n,buttonText:"Add To Shopping List",editRecipe:R},e+t)}))}):Object(b.jsxs)("div",{className:"tc w-90 w-80-m w-50-ns mw6 center pv3 bg-nearwhite shadow-4 br3",children:[Object(b.jsx)("h2",{className:"tc center",children:"No recipes in your recipe list."}),Object(b.jsx)("h2",{className:"tc center",children:"Go to Add a recipe to add some!"})]})]})})},k=n(13),S=n.n(k),R=function(){return Math.random().toString(36).substr(2,9)};var C=function(e){var t=e.setRecipes,n=e.recipes,r=Object(i.useState)([{ingredient:"",ingredientRef:null}]),c=Object(l.a)(r,2),a=c[0],o=c[1],d=Object(i.useState)({id:R(),name:"",link:"",ingredients:[]}),u=Object(l.a)(d,2),p=u[0],m=u[1],f=function(e){console.log(e);var t=e.target,n=t.name,i=t.value;m(Object(x.a)(Object(x.a)({},p),{},Object(w.a)({},n,i)))};return Object(i.useEffect)((function(){var e=a.map((function(e,t){return e.ingredient.toLowerCase()})).filter(Boolean);m(Object(x.a)(Object(x.a)({},p),{},{ingredients:e}))}),[a]),Object(b.jsx)("div",{className:"center pb6",children:Object(b.jsxs)(g.a,{children:[Object(b.jsx)("h1",{className:"tc mw9 mw6-ns center pv3  bg-nearwhite shadow-4 br3",children:"New Recipe"}),Object(b.jsxs)("article",{className:"center mw9 mw6-ns bg-nearwhite shadow-4 br3 hidden ba b--black-10 pa2 mv4",children:[Object(b.jsxs)("div",{className:"tc pa1 ph2-ns w-100 ",children:[Object(b.jsxs)("div",{className:"ph2",children:[Object(b.jsx)("input",{name:"name",placeholder:"Recipe Name",className:" ma1 ph1 pv2 input-reset ba bg-transparent br2 hover-bg-light-gray w-50-ns w-90  ",onChange:f,value:p.name}),Object(b.jsx)("input",{name:"link",placeholder:"Link",className:" ma1 ph1 pv2 input-reset ba bg-transparent br2 hover-bg-light-gray w-50-ns w-90 ",onChange:f,value:p.link,autoComplete:"off"})]}),Object(b.jsx)(h,{inputList:a,setInputList:o})]}),Object(b.jsx)("div",{className:"center ph1 tc w-50-ns w-90",children:Object(b.jsx)(j,{className:"pv3 w-90",value:"AddRecipe",inner:"Add Recipe",button:function(e){e.preventDefault(),t([].concat(Object(s.a)(n),[p])),k.store.addNotification({title:"".concat(p.name," added to recipes"),message:"Success",type:"success",insert:"bottom",container:"bottom-center",dismiss:{duration:2e3}}),m({id:R(),name:"",link:"",ingredients:[]}),o([{ingredient:"",ingredientRef:null}])}})})]})]})})};n(49),n(50);function B(){var e=Object(i.useState)(JSON.parse(localStorage.getItem("storedRecipes"))||[]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)(JSON.parse(localStorage.getItem("storedShopping"))||[]),a=Object(l.a)(c,2),u=a[0],h=a[1],p=Object(i.useState)(JSON.parse(localStorage.getItem("storedOdd"))||[""]),j=Object(l.a)(p,2),m=j[0],f=j[1],O=Object(i.useState)(""),w=Object(l.a)(O,2),x=w[0],N=w[1];Object(i.useEffect)((function(){localStorage.setItem("storedRecipes",JSON.stringify(n)),localStorage.setItem("storedShopping",JSON.stringify(u)),localStorage.setItem("storedOdd",JSON.stringify(m))}),[n,u,m]);var R=n.filter((function(e){return e.name.toLowerCase().includes(x.toLowerCase())}));return Object(b.jsxs)("div",{className:"flex flex-column justify-between min-vh-100 bg",children:[Object(b.jsxs)(g.a,{transitionDuration:"500",children:[Object(b.jsx)(S.a,{}),Object(b.jsx)(o.a,{children:Object(b.jsxs)("div",{className:"pb-3",children:[Object(b.jsx)("header",{className:"bg-dark-gray w-100 ph3 pv3 pv4-ns ph4-m ph5-l",children:Object(b.jsxs)("nav",{className:"f6 fw6 ttu tracked tc",children:[Object(b.jsx)(o.b,{className:"link dim white pa2 dib mr3",to:"/",children:"Shopping list"}),Object(b.jsx)(o.b,{className:"link dim white pa2 dib mr3",to:"/recipes",children:"Recipes"}),Object(b.jsx)(o.b,{className:"link dim white pa2 dib mr3",to:"/newrecipe",children:"Add a recipe"})]})}),Object(b.jsxs)(d.c,{children:[Object(b.jsx)(d.a,{path:"/recipes",children:Object(b.jsx)(y,{recipes:R,cardButton:function(e){e.preventDefault(),JSON.parse(JSON.stringify(R)).forEach((function(t,n){t.id+"-"+n===e.target.value&&(h([].concat(Object(s.a)(u),[t])),k.store.addNotification({title:"".concat(t.name),message:"added to Shopping List",type:"success",insert:"bottom",container:"bottom-center",dismiss:{duration:2e3}}))})),N("")},removeFromRecipes:function(e){if(e.preventDefault(),window.confirm("Are you sure you want to permanently delete this recipe?")){var t=e.target.value.split("-")[0],i=n.filter((function(e){return e.id!==t}));r(i),N("")}},onSearchChange:function(e){N(e.target.value)},searchField:x,setRecipes:r})}),Object(b.jsx)(d.a,{path:"/newrecipe",children:Object(b.jsx)(C,{setRecipes:r,recipes:n})}),Object(b.jsx)(d.a,{path:"/",children:Object(b.jsx)(v,{sortShopping:function(e){e.preventDefault();var t=u.map((function(e,t){return e.ingredients})).flat().sort(),n=Object(s.a)(new Set(t)).map((function(e){return[e,t.filter((function(t){return t===e})).length]})).map((function(e,t){return[e[0]+"  X"+e[1]]}));h([{id:"sort",name:"Shopping List",ingredients:n,link:""}].concat(Object(s.a)(u)))},recipes:u,cardButton:function(e){e.preventDefault();var t=u.filter((function(t,n){return t.id+"-"+n!==e.target.value}));h(t),N("")},ingredientButton:function(e){e.preventDefault();var t=u.map((function(t,n){if(n===+e.target.name){var i=t.ingredients.filter((function(t,n){return t+n!==e.target.value}));return t.ingredients=i,t}return t}));h(t)},oddBits:m,setOddBits:f})})]})]})})]}),Object(b.jsx)("div",{className:"bg-dark-gray h3 pa3 w-100 tc white",children:"Made by Joe"})]})}n(59);a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(B,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.94c0d595.chunk.js.map