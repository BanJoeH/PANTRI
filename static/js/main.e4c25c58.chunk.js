(this["webpackJsonprecipeshoppinglist2.0"]=this["webpackJsonprecipeshoppinglist2.0"]||[]).push([[0],{38:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),r=n(20),a=n.n(r),s=(n(38),n(19)),l=n(3),d=n(16),o=n(6),b=n(1),u=function(e){var t=e.recipeId,n=e.ingredients,i=e.pathname,c=e.ingredientButton;e.recipeIndex;return n?n.map((function(e,n){return Object(b.jsxs)("div",{className:"items-center mb1 bb bn-last b--light-silver flex justify-between",children:[Object(b.jsx)("div",{htmlFor:e,className:"lh-copy",children:e}),"/"===i?Object(b.jsx)("button",{className:"mr2 ba ph1 b--moon-gray gray br2 tc bg-white hover-bg-near-white pointer",onClick:c,name:t+" "+e+" "+n,value:e+n,children:"\u2715"}):null]},t+e+n)})):null};var h=function(e){var t=e.recipe,n=e.button,i=e.ingredientButton,c=e.removeFromRecipes,r=e.editRecipe,a=window.location.pathname;return Object(b.jsxs)("article",{className:"center mw6 br3 bg-nearwhite w-90   hidden shadow-4 ttc ba b--black-10 mv4 ",children:[Object(b.jsxs)("div",{className:"bg-dark-gray ph4 borrad--top flex justify-between items-center",children:[Object(b.jsx)("h2",{className:"white dib mr3",children:t.name}),""===t.link?null:Object(b.jsx)("a",{className:"link dim white dib mr3",target:"_blank",rel:"noopener noreferrer",href:t.link,children:"Link to Recipe"}),Object(b.jsxs)("div",{className:"flex ml4",children:["/recipes"===a?Object(b.jsx)("button",{value:t.id,onClick:r,className:"link bn white pointer bg-transparent dib mr3",children:"Edit"}):null,Object(b.jsx)("button",{href:"#",value:t.id,onClick:function(e){return c(e)},className:" link bn white pointer bg-transparent dib mr3",children:"\u2715"})]})]}),Object(b.jsx)("div",{className:"pa3 bt b--black-10 flex",children:Object(b.jsxs)("form",{className:"bn ph1 tc center w-80 ",children:[Object(b.jsx)(u,{recipeId:t.id,ingredients:t.ingredients,pathname:a,ingredientButton:i}),t.ingredients?Object(b.jsx)("button",{className:"pv2 mb1 ph3 w-100 bg-white pointer hover-bg-near-white center tc ba b--moon-gray br2 shadow-4",onClick:n,value:t.id,children:"/"===a?"Done":"Add to Shopping List"}):null]})})]})},j=function(e){var t=e.inputList,n=e.setInputList,c=function(){n([].concat(Object(d.a)(t),[{ingredient:"",ingredientRef:null}]))};return Object(i.useEffect)((function(){t[t.length-1].ingredientRef&&t[t.length-1].ingredientRef.focus()}),[t.length]),t.map((function(e,i){return Object(b.jsxs)("div",{className:"flex flex-row w-50-ns mv1 w-90 center b--gray ba bg-transparent br2  ",children:[Object(b.jsx)("input",{value:e.ingredient,name:"ingredient",placeholder:"Ingredient",onChange:function(e){return function(e,i){var c=e.target,r=c.name,a=c.value,s=Object(d.a)(t);s[i][r]=a,n(s)}(e,i)},onKeyDown:function(e){"Enter"===e.key&&c()},ref:function(t){return e.ingredientRef=t},className:"w-100 pr-5 pv2 br2 ph1 flex-grow-2hover-bg-light-gray bn input-reset ",autoComplete:"off"}),Object(b.jsxs)("div",{className:"flex",children:[t.length-1===i&&Object(b.jsx)("button",{onClick:c,className:"ba bg-transparent pointer b--light-silver br2 hover-bg-light-gray ",children:"+"}),1!==t.length&&Object(b.jsx)("button",{onClick:function(){return function(e){var i=Object(d.a)(t);i.splice(e,1),n(i)}(i)},className:"ba bg-transparent pointer b--light-silver br2 hover-bg-light-gray ",children:"x"})]})]},i)}))},p=function(e){var t=e.setOddBits,n=e.oddBits,c=Object(i.useState)(n.map((function(e){return{ingredient:e,ingredientRef:null}}))),r=Object(o.a)(c,2),a=r[0],s=r[1];return Object(i.useEffect)((function(){var e=a.map((function(e,t){return e.ingredient}));t(e)}),[a]),Object(b.jsxs)("article",{className:"center mw6 br3 ttc bg-nearwhite w-90 w-80-m w-50-ns hidden shadow-4 ba b--black-10 mv4",children:[Object(b.jsx)("div",{className:"bg-dark-gray ph4 borrad--top flex  justify-between items-center",children:Object(b.jsx)("h2",{className:"white dib mr3",children:"Odd Bits"})}),Object(b.jsx)("div",{className:"pa3 bt flex flex-column b--black-10 center flex",children:Object(b.jsx)(j,{inputList:a,setInputList:s})})]})},m=function(e){var t=e.className,n=e.onClick,i=e.value,c=e.children;return Object(b.jsx)("button",{className:"pv1 mb1 w-100 pointer bg-white hover-bg-near-white center tc ba b--moon-gray br2 shadow-4 ".concat(t),onClick:n,value:i,children:c})},g=n(12),f=n.n(g),O=n(22),v=n.n(O),w=n(11),x=n(4),N=n(15),y=JSON.parse(localStorage.getItem("storedShopping"))||[],k=Object(N.b)({name:"shoppingList",initialState:y,reducers:{shoppingListAdded:{reducer:function(e,t){e.unshift(t.payload)},prepare:function(e){return{payload:Object(x.a)(Object(x.a)({},e),{},{id:Math.random().toString(36).substr(2,9)})}}},shoppingListRemoved:function(e,t){return e.filter((function(e){return e.id!==t.payload}))},shoppingIngredientRemoved:function(e,t){var n=t.payload.split(" "),i=Object(o.a)(n,3),c=i[0],r=i[1],a=i[2],s=e.map((function(e){if(e.id===c){var t=e.ingredients.filter((function(e,t){return e+t!==r+a}));return e.ingredients=t,e}return e}));e=s}}}),R=k.actions,S=k.reducer,C=R.shoppingListAdded,L=R.shoppingListRemoved,I=R.shoppingIngredientRemoved,E=S;var A=function(){var e=Object(w.c)((function(e){return e.shoppingList})),t=Object(w.b)(),n=Object(i.useState)(JSON.parse(localStorage.getItem("storedOdd"))||[""]),c=Object(o.a)(n,2),r=c[0],a=c[1];Object(i.useEffect)((function(){localStorage.setItem("storedOdd",JSON.stringify(r))}),[r]),Object(i.useEffect)((function(){localStorage.setItem("storedShopping",JSON.stringify(e))}),[e]);var s=e.map((function(e){return e.name})),l=function(n){n.preventDefault();var i=e.find((function(e){return e.id===n.target.value}));t(L(i.id))},u=function(e){e.preventDefault();var n=e.target.name;t(I(n))},j={default:1===e.length?1:2===e.length?2:3,1400:2,1e3:1};return Object(b.jsx)("div",{className:"center",children:Object(b.jsxs)(f.a,{children:[Object(b.jsx)("h2",{className:"tc w-90 w-80-m w-50-ns mw6 center pv3 bg-nearwhite shadow-4 br3",children:"Shopping List"}),s.includes("Shopping List")||0===e.length?null:Object(b.jsx)("div",{className:"tc w-90 w-80-m w-50-ns mw6 center",children:Object(b.jsx)(m,{className:" pointer pv3",value:"AddRecipe",onClick:function(n){n.preventDefault();var i=e.map((function(e,t){return e.ingredients})).flat().sort(),c=Object(d.a)(new Set(i)).map((function(e){return[e,i.filter((function(t){return t===e})).length]})).map((function(e,t){return[e[0]+"  X"+e[1]]}));t(C({id:"sort",name:"Shopping List",ingredients:c,link:""}))},children:"Sort shopping list"})}),Object(b.jsx)(p,{setOddBits:a,oddBits:r}),0===e.length?Object(b.jsxs)("div",{className:"tc w-90 w-80-m w-50-ns mw6 mv3 center pv3 bg-nearwhite shadow-4 br3",children:[Object(b.jsx)("h2",{className:"tc center",children:"No recipes in your shopping list."}),Object(b.jsx)("h2",{className:"tc center",children:"Go to Recipes to add some!"})]}):Object(b.jsx)(f.a,{children:Object(b.jsx)(v.a,{breakpointCols:j,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:e.map((function(e){return Object(b.jsx)(h,{removeFromRecipes:l,recipe:e,button:l,ingredientButton:u},e.id)}))})})]})})},B=n(14),D=n(23),J=n.n(D),F=function(e,t){D.store.addNotification({title:e,message:t,type:"success",insert:"bottom",container:"bottom-center",dismiss:{duration:2e3}})},M=JSON.parse(localStorage.getItem("storedRecipes"))||[],_=Object(N.b)({name:"recipes",initialState:M,reducers:{recipeAdded:function(e,t){e.push(t.payload)},recipeRemoved:function(e,t){return e.filter((function(e){return e.id!==t.payload}))},recipeEdited:function(e,t){return e.map((function(e){return e.id===t.payload.id?t.payload:e}))}}}),G=_.actions,K=_.reducer,X=G.recipeAdded,q=G.recipeRemoved,z=G.recipeEdited,H=K,P=function(e){var t=e.searchField,n=e.searchChange;return Object(b.jsx)("div",{className:"pa2 tc w-100 center pv2  bg-nearwhite shadow-4 br3",children:Object(b.jsx)("input",{className:"ma1 pa2 w-80-m input-reset ba bg-transparent br2 hover-bg-light-gray w-50-ns w-90",type:"search",placeholder:"Search Recipes",onChange:n,value:t})})},Q=function(){var e=Object(i.useState)({id:"",name:"",link:"",ingredients:[]}),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)([{ingredient:"",ingredientRef:null}]),a=Object(o.a)(r,2),s=a[0],l=a[1],d=Object(i.useState)(""),u=Object(o.a)(d,2),p=u[0],g=u[1],O=Object(w.c)((function(e){return e.recipes})),N=Object(w.b)();Object(i.useEffect)((function(){localStorage.setItem("storedRecipes",JSON.stringify(O))}),[O]);var y=function(e){c((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(B.a)({},e.target.name,e.target.value))}))},k=O.filter((function(e){return e.name.toLowerCase().includes(p.toLowerCase())})),R=function(e){e.preventDefault();var t=e.target.value;O.find((function(e){e.id===t&&(N(C(e)),F(e.name,"Added to your shopping list"))})),g("")},S=function(e){if(e.preventDefault(),window.confirm("Are you sure you want to permanently delete this recipe?")){var t=e.target.value.split(" ")[0];N(q(t)),g("")}},L={default:1===O.length?1:2===O.length?2:3,1400:2,1e3:1},I=function(e){e.preventDefault(),console.log(e);var t=O.find((function(t){return t.id===e.target.value}));c(t)};return Object(i.useEffect)((function(){c((function(e){return Object(x.a)(Object(x.a)({},e),{},{ingredients:s.map((function(e){return e.ingredient})).filter(Boolean)})}))}),[s]),Object(i.useEffect)((function(){var e=[];if(""===n.id)return[{ingredient:"",ingredientRef:null}];e=n.ingredients.map((function(e){return{ingredient:e,ingredientRef:null}})),l(e)}),[n.ingredients.length]),Object(b.jsx)("div",{className:"center",children:Object(b.jsxs)(f.a,{children:[Object(b.jsx)("h2",{className:"tc w-90 w-80-m w-50-ns mw6 center pv3 bg-nearwhite shadow-4 br3",children:"Recipe List"}),""===n.id?null:Object(b.jsxs)("article",{className:"center w-90 w-80-m w-50-ns mw6 bg-nearwhite shadow-4 br3 hidden ba b--black-10 pa2 mv4",children:[Object(b.jsx)("h2",{className:"tc w-90 w-80-m w-50-ns mw6 center mv1",children:"Edit Recipe"}),Object(b.jsxs)("div",{className:"tc pa1 ph2-ns w-100 ",children:[Object(b.jsxs)("div",{className:"ph2",children:[Object(b.jsx)("input",{name:"name",placeholder:"Recipe Name",className:" ma1 ph1 pv2 input-reset ba bg-transparent br2 hover-bg-light-gray w-50-ns w-90  ",onChange:y,value:n.name,autoComplete:"off"}),Object(b.jsx)("input",{name:"link",placeholder:"Link",className:" ma1 ph1 pv2 input-reset ba bg-transparent br2 hover-bg-light-gray w-50-ns w-90 ",onChange:y,value:n.link,autoComplete:"off"})]}),Object(b.jsx)(j,{inputList:s,setInputList:l})]}),Object(b.jsx)("div",{className:"center ph1 tc w-50-ns w-90",children:Object(b.jsx)(m,{className:"pv3 w-90",value:"editRecipe",onClick:function(e){e.preventDefault(),console.log(e),N(z(n)),F(n.name,"edited"),c({id:"",name:"",link:"",ingredients:[]}),l([{ingredient:"",ingredientRef:null}])},children:"Done"})})]}),Object(b.jsx)("div",{className:"center mw6 br3 bg-nearwhite w-90 w-80-m w-50-ns ma2 hidden shadow-4 ttc ba b--black-10 mv4",children:Object(b.jsx)("div",{className:"",children:Object(b.jsx)(P,{searchChange:function(e){g(e.target.value)},searchField:p})})}),k.length?Object(b.jsx)(v.a,{breakpointCols:L,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:k.map((function(e){return Object(b.jsx)(h,{removeFromRecipes:S,recipe:e,button:R,editRecipe:I},e.id)}))}):p.length?Object(b.jsx)("div",{className:"tc w-90 w-80-m w-50-ns mv3 mw6 center pv3 bg-nearwhite shadow-4 br3",children:Object(b.jsx)("h2",{className:"tc center",children:"Recipe not found."})}):Object(b.jsxs)("div",{className:"tc w-90 w-80-m w-50-ns mv3 mw6 center pv3 bg-nearwhite shadow-4 br3",children:[Object(b.jsx)("h2",{className:"tc center",children:"No recipes in your recipe list."}),Object(b.jsx)("h2",{className:"tc center",children:"Go to Add a recipe to add some!"})]})]})})},T=n(33),U=(n(63),function(e){var t=e.handleChange,n=e.label,i=Object(T.a)(e,["handleChange","label"]);return Object(b.jsxs)("div",{className:"group",children:[Object(b.jsx)("input",Object(x.a)(Object(x.a)({onChange:t},i),{},{className:"form-input"})),n?Object(b.jsx)("label",{className:"".concat(i.value.length?"shrink":""," form-input-label"),children:n}):null]})}),V=function(){return Math.random().toString(36).substr(2,9)};var W=function(){var e=Object(i.useState)([{ingredient:"",ingredientRef:null}]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)({id:V(),name:"",link:"",ingredients:[]}),a=Object(o.a)(r,2),s=a[0],l=a[1],d=Object(w.b)(),u=function(e){var t=e.target,n=t.name,i=t.value;l(Object(x.a)(Object(x.a)({},s),{},Object(B.a)({},n,i)))};return Object(i.useEffect)((function(){var e=n.map((function(e,t){return e.ingredient.toLowerCase()})).filter(Boolean);l(Object(x.a)(Object(x.a)({},s),{},{ingredients:e}))}),[n]),Object(b.jsx)("div",{className:"center pb6",children:Object(b.jsxs)(f.a,{children:[Object(b.jsx)("h1",{className:"tc mw9 mw6-ns center pv3  bg-nearwhite shadow-4 br3",children:"New Recipe"}),Object(b.jsxs)("div",{className:"center mw9 mw6-ns bg-nearwhite shadow-4 br3 hidden ba b--black-10 pa2 mv4",children:[Object(b.jsxs)("div",{className:"flex flex-column  center",children:[Object(b.jsx)(U,{name:"name",label:"Recipe Name",handleChange:u,value:s.name}),Object(b.jsx)(U,{name:"link",label:"Link",handleChange:u,value:s.link,autoComplete:"off"})]}),Object(b.jsx)(j,{inputList:n,setInputList:c}),Object(b.jsx)("div",{className:"center ph1 tc w-50-ns w-90",children:Object(b.jsx)(m,{className:"pv3 w-100",value:"AddRecipe",onClick:function(e){e.preventDefault(),d(X(s)),F(s.name,"Added to Recipes"),l({id:V(),name:"",link:"",ingredients:[]}),c([{ingredient:"",ingredientRef:null}])},children:"Add Recipe"})})]})]})})};n(64),n(65);function Y(){return Object(b.jsx)(f.a,{transitionDuration:"500",children:Object(b.jsxs)("div",{className:"flex flex-column justify-between min-vh-100 bg",children:[Object(b.jsx)(J.a,{}),Object(b.jsx)(s.a,{children:Object(b.jsxs)("div",{className:"flex-grow",children:[Object(b.jsx)("header",{className:"bg-dark-gray w-100 ph3 pv3 pv4-ns ph4-m ph5-l",children:Object(b.jsxs)("nav",{className:"f6 fw6 ttu tracked tc",children:[Object(b.jsx)(s.b,{className:"link dim white pa2 dib mr3",to:"/",children:"Shopping list"}),Object(b.jsx)(s.b,{className:"link dim white pa2 dib mr3",to:"/recipes",children:"Recipes"}),Object(b.jsx)(s.b,{className:"link dim white pa2 dib mr3",to:"/newrecipe",children:"Add a recipe"})]})}),Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{path:"/recipes",children:Object(b.jsx)(Q,{})}),Object(b.jsx)(l.a,{path:"/newrecipe",children:Object(b.jsx)(W,{})}),Object(b.jsx)(l.a,{path:"/",children:Object(b.jsx)(A,{})})]})]})}),Object(b.jsx)("div",{className:"bg-dark-gray h4 flex justify-center pa3 w-100 items-center tc white",children:"Made by Joe"})]})})}n(69);var Z=Object(N.a)({reducer:{recipes:H,shoppingList:E}});a.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(w.a,{store:Z,children:Object(b.jsx)(Y,{})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.e4c25c58.chunk.js.map