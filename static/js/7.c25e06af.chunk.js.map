{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/custom-input/custom-input.component.jsx","pages/recipes/recipes.utils.jsx","App/useDebounce.utils.jsx","components/search-box/searchbox.component.js","components/new-recipe/new-recipe.component.js","components/edit-recipe/edit-recipe.component.jsx","pages/recipes/recipes.component.js"],"names":["_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","CustomInput","props","handleChange","label","otherProps","className","onChange","value","updateRecipe","item","ref","a","doc","id","update","then","response","catch","error","console","log","useDebounce","delay","useState","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","SearchBox","searchField","searchChange","type","NewRecipe","ingredient","ingredientRef","inputList","setInputList","name","link","ingredients","newRecipe","setNewRecipe","setError","showNewRecipeCard","setShowNewRecipeCard","firestore","useFirestore","uid","useSelector","state","firebase","auth","recipesCollectionRef","collection","event","handleAddNewRecipeClick","e","preventDefault","addToFirebaseCollection","notification","map","input","toLowerCase","filter","Boolean","required","onClick","style","margin","EditRecipe","editingRecipe","setEditingRecipe","prevState","newState","handleInputEditChange","autoComplete","Recipes","setSearchField","debouncedSearchTerm","recipes","ordered","isloading","status","requesting","loaded","requested","recipesFiltered","recipeList","forEach","recipe","includes","some","push","filteredRecipesByIngredientAndName","useFirestoreConnect","storeAs","shoppingListCollectionRef","handleRemoveFromRecipesClick","window","confirm","recipeId","recipeToRemove","findRecipe","removeFromFirebaseCollection","handleAddToShoppingListClick","recipeToAdd","handleUpdateRecipeClick","title","removeFromRecipes","cardButton","editRecipeCardButton","foundRecipe","undefined"],"mappings":"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","file":"static/js/7.c25e06af.chunk.js","sourcesContent":["import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from \"react\";\n\nimport \"./custom-input.styles.scss\";\n\nconst CustomInput = (props) => {\n  const { handleChange, label, ...otherProps } = props;\n  return (\n    <div className=\"group\">\n      <input onChange={handleChange} {...otherProps} className=\"form-input\" />\n      {label ? (\n        <label\n          className={`${\n            otherProps.value.length ? \"shrink\" : \"\"\n          } form-input-label`}\n        >\n          {label}\n        </label>\n      ) : null}\n    </div>\n  );\n};\n\nexport default CustomInput;\n","export const filteredRecipesByIngredientAndName = (\n  recipeList,\n  debouncedSearchTerm\n) => {\n  let recipes = [];\n  if (!recipeList) {\n    return recipes;\n  }\n  if (!debouncedSearchTerm) {\n    return recipeList;\n  }\n\n  recipeList.forEach((recipe) => {\n    if (!recipe.name || !recipe.ingredients.length) {\n      return;\n    } else if (\n      // Search the recipeName for the searchTerm\n      recipe.name.toLowerCase().includes(debouncedSearchTerm.toLowerCase())\n    ) {\n      recipes.push(recipe);\n    } else if (\n      // Search the ingredients for the searchTerm\n      recipe.ingredients.some((ingredient) => {\n        return ingredient\n          .toLowerCase()\n          .includes(debouncedSearchTerm.toLowerCase());\n      })\n    ) {\n      recipes.push(recipe);\n    }\n  });\n\n  return recipes;\n};\n\nexport const updateRecipe = async (item, ref) => {\n  let response;\n  await ref\n    .doc(item.id)\n    .update(item)\n    .then((response = \"succeeded\"))\n    .catch((error) => {\n      response = \"failed\";\n      console.log(\"error updating recipe\", error);\n    });\n  return response;\n};\n","import { useState, useEffect } from \"react\";\n\nconst useDebounce = (value, delay) => {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n};\n\nexport default useDebounce;\n","import React from \"react\";\nimport CustomInput from \"../custom-input/custom-input.component\";\n\nimport \"./searchbox.styles.scss\";\n\nconst SearchBox = ({ searchField, searchChange }) => {\n  return (\n    <div className=\"searchbox\">\n      <CustomInput\n        type=\"search\"\n        label=\"Search Recipes\"\n        onChange={searchChange}\n        value={searchField}\n      />\n    </div>\n  );\n};\n\nexport default SearchBox;\n","import { useState, useEffect } from \"react\";\nimport { useFirestore } from \"react-redux-firebase\";\nimport { useSelector } from \"react-redux\";\nimport { notification, addToFirebaseCollection } from \"../../App/app.utils\";\nimport CustomButton from \"../custom-button/custom-button.component.jsx\";\nimport IngredientInput from \"../ingredient-input/ingredient-input.component.js\";\nimport CustomInput from \"../custom-input/custom-input.component\";\n\n// const ID = () => {\n//   return Math.random().toString(36).substr(2, 9);\n// };\nfunction NewRecipe() {\n  const [inputList, setInputList] = useState([\n    { ingredient: \"\", ingredientRef: null },\n  ]);\n  const [newRecipe, setNewRecipe] = useState({\n    name: \"\",\n    link: \"\",\n    ingredients: [],\n  });\n  const [error, setError] = useState(false);\n  const [showNewRecipeCard, setShowNewRecipeCard] = useState(false);\n\n  const firestore = useFirestore();\n  const { uid } = useSelector((state) => state.firebase.auth);\n  const recipesCollectionRef = firestore\n    .collection(\"users\")\n    .doc(uid)\n    .collection(\"recipes\");\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setNewRecipe({ ...newRecipe, [name]: value });\n  };\n\n  const handleAddNewRecipeClick = async (e) => {\n    e.preventDefault();\n    if (!newRecipe.name) {\n      setError(true);\n    } else {\n      const response = await addToFirebaseCollection(\n        newRecipe,\n        recipesCollectionRef\n      );\n      if (response === \"error\") {\n        notification(\n          \"Error\",\n          \"error adding new recipe, please try again\",\n          \"danger\"\n        );\n      } else {\n        setError(false);\n        notification(newRecipe.name, \"Added to Recipes\", \"success\");\n        setNewRecipe({ name: \"\", link: \"\", ingredients: [] });\n        setInputList([{ ingredient: \"\", ingredientRef: null }]);\n        setShowNewRecipeCard(!showNewRecipeCard);\n      }\n    }\n  };\n\n  useEffect(() => {\n    let ingredients = inputList\n      .map((input, i) => {\n        return input.ingredient.toLowerCase();\n      })\n      .filter(Boolean);\n    setNewRecipe({ ...newRecipe, ingredients: ingredients });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputList]);\n\n  const handleShowNewRecipeClick = (e) => {\n    e.preventDefault();\n    setShowNewRecipeCard(!showNewRecipeCard);\n  };\n\n  const handleCancelClick = (e) => {\n    e.preventDefault();\n    setShowNewRecipeCard(false);\n    setError(false);\n  };\n\n  return !showNewRecipeCard ? (\n    <div style={{ margin: \"0 5%\" }}>\n      <CustomButton value=\"newRecipe\" onClick={handleShowNewRecipeClick}>\n        Add a Recipe\n      </CustomButton>\n    </div>\n  ) : (\n    <div className=\"card\">\n      <h3 className=\"new-recipe-title\">Add a new recipe</h3>\n      <CustomInput\n        name=\"name\"\n        label=\"Recipe Name\"\n        handleChange={handleChange}\n        value={newRecipe.name}\n        required\n      />\n      {error ? <div className=\"error\">Recipe name required</div> : null}\n      <CustomInput\n        name=\"link\"\n        label=\"Link\"\n        handleChange={handleChange}\n        value={newRecipe.link}\n      />\n      <IngredientInput\n        inputList={inputList}\n        setInputList={setInputList}\n        label=\"Ingredient\"\n      />\n      <div className=\"new-recipe-button-group\">\n        <CustomButton value=\"AddRecipe\" onClick={handleAddNewRecipeClick}>\n          Add Recipe\n        </CustomButton>\n        <CustomButton value=\"Cancel\" onClick={handleCancelClick}>\n          Cancel\n        </CustomButton>\n      </div>\n    </div>\n  );\n}\n\nexport default NewRecipe;\n","import React, { useEffect, useState } from \"react\";\nimport CustomButton from \"../custom-button/custom-button.component\";\nimport CustomInput from \"../custom-input/custom-input.component\";\nimport IngredientInput from \"../ingredient-input/ingredient-input.component\";\n\nconst EditRecipe = ({ editingRecipe, setEditingRecipe, updateRecipe }) => {\n  const [inputList, setInputList] = useState([\n    {\n      ingredient: \"\",\n      ingredientRef: null,\n    },\n  ]);\n\n  useEffect(() => {\n    setEditingRecipe((prevState) => ({\n      ...prevState,\n      ingredients: inputList\n        .map((item) => {\n          return item.ingredient;\n        })\n        .filter(Boolean),\n    }));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputList]);\n\n  useEffect(() => {\n    let newState = [];\n    if (editingRecipe.id) {\n      newState = editingRecipe.ingredients.map((ingredient) => {\n        return { ingredient: ingredient, ingredientRef: null };\n      });\n    } else {\n      return (newState = [\n        {\n          ingredient: \"\",\n          ingredientRef: null,\n        },\n      ]);\n    }\n    setInputList(newState);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editingRecipe.ingredients.length]);\n\n  const handleInputEditChange = (event) => {\n    setEditingRecipe((prevState) => ({\n      ...prevState,\n      [event.target.name]: event.target.value,\n    }));\n  };\n\n  const handleCancelClick = (e) => {\n    e.preventDefault();\n    setEditingRecipe({\n      id: \"\",\n      name: \"\",\n      ingredients: [],\n      link: \"\",\n    });\n  };\n\n  return !editingRecipe.id ? null : (\n    <article className=\"card\">\n      <h2>Edit Recipe</h2>\n\n      <div className=\"card-body\">\n        <CustomInput\n          name=\"name\"\n          label=\"Recipe Name\"\n          handleChange={handleInputEditChange}\n          value={editingRecipe.name}\n          autoComplete=\"off\"\n        />\n        <CustomInput\n          name=\"link\"\n          label=\"Link\"\n          handleChange={handleInputEditChange}\n          value={editingRecipe.link}\n          autoComplete=\"off\"\n        />\n        <IngredientInput inputList={inputList} setInputList={setInputList} />\n      </div>\n      <div className=\"new-recipe-button-group\">\n        <CustomButton value=\"editRecipe\" onClick={updateRecipe}>\n          Done\n        </CustomButton>\n        <CustomButton value=\"Cancel\" onClick={handleCancelClick}>\n          Cancel\n        </CustomButton>\n      </div>\n    </article>\n  );\n};\n\nexport default EditRecipe;\n","import { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useFirestoreConnect, useFirestore } from \"react-redux-firebase\";\nimport { notification } from \"../../App/app.utils\";\nimport {\n  updateRecipe,\n  filteredRecipesByIngredientAndName,\n} from \"./recipes.utils\";\n\nimport {\n  findRecipe,\n  addToFirebaseCollection,\n  removeFromFirebaseCollection,\n} from \"../../App/app.utils\";\nimport useDebounce from \"../../App/useDebounce.utils\";\n\nimport CardList from \"../../components/cardList/card-list.component\";\nimport SearchBox from \"../../components/search-box/searchbox.component.js\";\nimport NewRecipe from \"../../components/new-recipe/new-recipe.component\";\nimport EditRecipe from \"../../components/edit-recipe/edit-recipe.component\";\nimport PageContainer from \"../../components/page-container/page-container\";\nimport PageHeaderContainer from \"../../components/page-header-container/page-header-container\";\n\nconst Recipes = () => {\n  const [editingRecipe, setEditingRecipe] = useState({\n    id: \"\",\n    name: \"\",\n    link: \"\",\n    ingredients: [],\n  });\n  const [searchField, setSearchField] = useState(\"\");\n  const debouncedSearchTerm = useDebounce(searchField, 200);\n\n  const firestore = useFirestore();\n  const uid = useSelector((state) => state.firebase.auth.uid);\n  const recipes = useSelector((state) => state.firestore.ordered.recipes);\n  const isloading = useSelector(\n    (state) => state.firestore.status.requesting.recipes\n  );\n  const loaded = useSelector(\n    (state) => state.firestore.status.requested.recipes\n  );\n  const recipesFiltered = filteredRecipesByIngredientAndName(\n    recipes,\n    debouncedSearchTerm\n  );\n  useFirestoreConnect({\n    collection: `users/${uid}/recipes`,\n    storeAs: \"recipes\",\n  });\n\n  const shoppingListCollectionRef = firestore\n    .collection(\"users\")\n    .doc(uid)\n    .collection(\"shoppingList\");\n\n  const recipesCollectionRef = firestore\n    .collection(\"users\")\n    .doc(uid)\n    .collection(\"recipes\");\n\n  const handleRemoveFromRecipesClick = async (e) => {\n    e.preventDefault();\n    if (\n      window.confirm(\"Are you sure you want to permanently delete this recipe?\")\n    ) {\n      const recipeId = e.target.value;\n      const recipeToRemove = findRecipe(recipeId, recipes);\n      const response = await removeFromFirebaseCollection(\n        recipeToRemove,\n        recipesCollectionRef\n      );\n      if (response === \"error\") {\n        notification(\n          \"Error\",\n          \"error removing recipe, please try again\",\n          \"danger\"\n        );\n      } else {\n        notification(response.name, \"Deleted\", \"success\");\n      }\n    }\n  };\n\n  const onSearchChange = (event) => {\n    setSearchField(event.target.value);\n  };\n\n  const handleAddToShoppingListClick = async (e) => {\n    e.preventDefault();\n\n    const recipeToAdd = findRecipe(e.target.value, recipes);\n\n    const response = await addToFirebaseCollection(\n      recipeToAdd,\n      shoppingListCollectionRef\n    );\n    if (response === \"error\") {\n      notification(\"Error\", \"error adding to shopping list\", \"danger\");\n    } else {\n      notification(response.name, \"Added to your shopping list\", \"success\");\n      setSearchField(\"\");\n    }\n  };\n\n  const handleEditRecipeCardButtonClick = (e) => {\n    e.preventDefault();\n    const foundRecipe = findRecipe(e.target.value, recipes);\n    if (foundRecipe === undefined) {\n      notification(\n        \"error\",\n        \"error finding recipe, please contact admin to resolve issue\",\n        \"danger\"\n      );\n    } else {\n      setEditingRecipe(foundRecipe);\n    }\n  };\n\n  const handleUpdateRecipeClick = async (e) => {\n    e.preventDefault();\n\n    const response = await updateRecipe(editingRecipe, recipesCollectionRef);\n    if (response === \"succeeded\") {\n      setEditingRecipe({\n        id: \"\",\n        name: \"\",\n        link: \"\",\n        ingredients: [],\n      });\n      notification(editingRecipe.name, \"updated\", \"info\");\n    } else {\n      notification(\"Error\", \"error updating recipe, please try again\", \"info\");\n    }\n  };\n\n  return (\n    !isloading && (\n      <PageContainer>\n        <PageHeaderContainer title=\"Recipe List\">\n          <EditRecipe\n            editingRecipe={editingRecipe}\n            setEditingRecipe={setEditingRecipe}\n            updateRecipe={handleUpdateRecipeClick}\n          />\n          <NewRecipe />\n          <SearchBox searchChange={onSearchChange} searchField={searchField} />\n        </PageHeaderContainer>\n        {!isloading && loaded && recipesFiltered.length ? (\n          <CardList\n            recipes={recipesFiltered}\n            removeFromRecipes={handleRemoveFromRecipesClick}\n            cardButton={handleAddToShoppingListClick}\n            editRecipeCardButton={handleEditRecipeCardButtonClick}\n          />\n        ) : searchField ? (\n          <div className=\"card\">\n            <h2>Recipe not found.</h2>\n          </div>\n        ) : (\n          <div className=\"card\">\n            <h2>No recipes in your recipe list.</h2>\n            <h2>Click add a recipe above to add some!</h2>\n          </div>\n        )}\n      </PageContainer>\n    )\n  );\n};\n\nexport default Recipes;\n"],"sourceRoot":""}