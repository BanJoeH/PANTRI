(this["webpackJsonprecipeshoppinglist2.0"]=this["webpackJsonprecipeshoppinglist2.0"]||[]).push([[0],{227:function(e,n,t){},417:function(e,n,t){},438:function(e,n,t){},439:function(e,n,t){},440:function(e,n,t){},441:function(e,n,t){},442:function(e,n,t){},443:function(e,n,t){},444:function(e,n,t){},445:function(e,n,t){},446:function(e,n,t){},447:function(e,n,t){},448:function(e,n,t){},449:function(e,n,t){},450:function(e,n,t){},451:function(e,n,t){"use strict";t.r(n);var i=t(4),c=t(2),r=t.n(c),a=t(95),s=t.n(a),o=(t(227),t(228),t(17)),l=t.n(o),u=t(33),d=t(6),j=t(10),b=t(9),h=t(37),f=(t(452),t(237),t(56)),p=t(221),g=t(13),O=Object(p.a)({reducer:{firebase:g.firebaseReducer,firestore:f.firestoreReducer}}),m={userProfile:"users",useFirestoreForProfile:!0,onAuthStateChanged:function(e,n,t){e||t({type:f.actionTypes.CLEAR_DATA})}},v={firebase:h.a,config:m,dispatch:O.dispatch,createFirestoreInstance:f.createFirestoreInstance},x=function(){var e=Object(u.a)(l.a.mark((function e(n,t){var c,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return c=w.doc("users/".concat(n.uid)),e.next=5,c.get();case 5:if(e.sent.exists){e.next=16;break}return r=n.displayName,a=n.email,e.prev=8,e.next=11,c.set(Object(i.a)({displayName:r,email:a},t));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.log("error creating user",e.t0.message);case 16:return e.abrupt("return",c);case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(n,t){return e.apply(this,arguments)}}();h.a.initializeApp({apiKey:"AIzaSyBBougi-iecxqTOOD2iahFN-yUfG5tKEMo",authDomain:"pantri-128f4.firebaseapp.com",projectId:"pantri-128f4",storageBucket:"pantri-128f4.appspot.com",messagingSenderId:"480125689887",appId:"1:480125689887:web:8603482672c1217834752a",measurementId:"G-5RVBRNC8RQ"});var N=h.a.auth(),w=h.a.firestore(),k=new h.a.auth.GoogleAuthProvider;k.setCustomParameters({prompt:"select_account"});h.a;var R=t(57),C=t.n(R),y=Object(c.createContext)({showMenu:!1,toggleBurgerMenu:function(){}}),A=(t(417),t(1)),I=function(){var e=Object(j.b)((function(e){return e.firebase.auth})).isEmpty,n=Object(b.g)(),t=Object(c.useContext)(R.MenuContext).toggleMenu,i=Object(c.useContext)(y);return Object(A.jsx)("header",{className:"slide-in-menu",children:Object(A.jsxs)("nav",{className:"slide-in-nav",onClick:function(){t(),i.toggleBurgerMenu()},children:[Object(A.jsx)("div",{className:"nav-link",onClick:function(){n.push("/PANTRI/shoppingList")},children:"Shopping list"}),Object(A.jsx)("div",{className:"nav-link",onClick:function(){n.push("/PANTRI/recipes")},children:"Recipes"}),Object(A.jsx)("div",{className:"nav-link",onClick:function(){n.push("/PANTRI/newrecipe")},children:"Add a recipe"}),e?Object(A.jsx)("div",{className:"nav-link",onClick:function(){n.push("/PANTRI/")},children:"Sign In"}):Object(A.jsx)("div",{className:"nav-link",onClick:function(){return N.signOut()},children:"Sign Out"})]})})},S=t(97),P=t.n(S),L=t(219),T=t.n(L),E=function(e,n,t){S.store.addNotification({title:e,message:n,type:t,insert:"bottom",container:"bottom-center",dismiss:{duration:2e3}})},F=t(25),B=(t(438),function(){var e=Object(j.b)((function(e){return e.firebase.auth})).isEmpty,n=function(){var e=Object(c.useState)({width:void 0,height:void 0}),n=Object(d.a)(e,2),t=n[0],i=n[1];return Object(c.useEffect)((function(){function e(){i({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t}(),t=Object(c.useContext)(R.MenuContext).toggleMenu,i=Object(c.useContext)(y);return console.log(t),Object(A.jsx)("header",{className:"app-header",children:n.width>575?Object(A.jsxs)("nav",{className:"nav",children:[Object(A.jsx)(F.b,{className:"nav-link",to:"/PANTRI/shoppingList",children:"Shopping list"}),Object(A.jsx)(F.b,{className:"nav-link",to:"/PANTRI/recipes",children:"Recipes"}),Object(A.jsx)(F.b,{className:"nav-link",to:"/PANTRI/newrecipe",children:"Add a recipe"}),e?Object(A.jsx)(F.b,{className:"nav-link",to:"/PANTRI/",children:"Sign In"}):Object(A.jsx)("div",{className:"nav-link",onClick:function(){return N.signOut()},children:"Sign Out"})]}):Object(A.jsx)("div",{className:"small-screen",children:Object(A.jsxs)("div",{className:"burger-container",onClick:function(){i.toggleBurgerMenu(),t()},children:[Object(A.jsx)("div",{className:i.showMenu?"bar1 change":"bar1"}),Object(A.jsx)("div",{className:i.showMenu?"bar2 change":"bar2"}),Object(A.jsx)("div",{className:i.showMenu?"bar3 change":"bar3"})]})})})}),M=t(58),D=(t(439),function(e){var n=e.inputList,t=e.setInputList,i=e.lossOfFocus,r=e.label,a=void 0===r?"Ingredient":r,s=function(){t([].concat(Object(M.a)(n),[{ingredient:"",ingredientRef:null}]))};return Object(c.useEffect)((function(){n[n.length-1].ingredientRef&&n[n.length-1].ingredientRef.focus()}),[n.length]),n.map((function(e,c){return Object(A.jsxs)("div",{className:"ingredient-input-group",children:[Object(A.jsxs)("div",{className:"group",children:[Object(A.jsx)("input",{id:e.ingredient+c,name:"ingredient",label:a||"Ingredient",onChange:function(e){return function(e,i){var c=e.target,r=c.name,a=c.value,s=Object(M.a)(n);s[i][r]=a,t(s)}(e,c)},value:e.ingredient,onKeyDown:function(e){"Enter"===e.key&&s()},ref:function(n){return e.ingredientRef=n},autoComplete:"off",className:"form-input",onBlur:i}),a?Object(A.jsx)("label",{htmlFor:e.ingredient+c,className:"".concat(e.ingredient.length?"shrink":""," form-input-label"),children:a}):null]}),Object(A.jsxs)("div",{className:"button-group",children:[n.length-1===c&&Object(A.jsx)("div",{className:"ingredient-button",children:Object(A.jsx)("button",{onClick:s,className:"add",children:"\u2715"})}),1!==n.length&&Object(A.jsx)("button",{onClick:function(){return function(e){var i=Object(M.a)(n);i.splice(e,1),t(i)}(c)},className:"ingredient-button delete",children:"\u2715"})]})]},c)}))}),W=function(e){var n=e.uid,t=Object(j.b)((function(e){return e.firebase.profile.oddBits})),i=Object(g.useFirestore)(),r=Object(c.useState)([{ingredient:"",ingredientRef:null}]),a=Object(d.a)(r,2),s=a[0],o=a[1];Object(c.useEffect)((function(){t&&t.length&&o(t.map((function(e){return{ingredient:e,ingredientRef:null}})))}),[t]);return Object(A.jsxs)("article",{className:"card",children:[Object(A.jsx)("div",{className:"card-header",children:Object(A.jsx)("h2",{className:"card-title",children:"Odd Bits"})}),Object(A.jsx)("div",{className:"card-body ",children:Object(A.jsx)(D,{inputList:s,setInputList:o,lossOfFocus:function(){if(n){var e=s.map((function(e,n){return e.ingredient}));i.collection("users").doc(n).set({oddBits:e},{merge:!0})}},label:"Odd bit"})})]})},G=(t(440),function(e){var n=e.recipeId,t=e.ingredients,i=e.pathname,c=e.ingredientButton;return t?Object(A.jsx)("div",{className:"ingredient-list",children:t.map((function(e,t){return null!==e?Object(A.jsxs)("div",{className:"ingredient",children:[Object(A.jsx)("div",{htmlFor:e,className:"ingredient-text",children:e}),"/PANTRI/shoppingList"===i?Object(A.jsx)("button",{className:"ingredient-button",onClick:c,name:n+"&"+e+"&"+t,children:"\u2715"}):Object(A.jsx)("div",{})]},n+e+t):null}))}):null});t(441);var q=function(e){var n=e.recipe,t=e.button,i=e.ingredientButton,c=e.removeFromRecipes,r=e.editRecipe,a=window.location.pathname;return Object(A.jsxs)("article",{className:"card",children:[Object(A.jsxs)("div",{className:"card-header",children:[Object(A.jsx)("h2",{className:"card-title",children:n.name}),n.link?Object(A.jsx)("a",{className:"title-link",target:"_blank",rel:"noopener noreferrer",href:n.link,children:"Link"}):null,Object(A.jsxs)("div",{className:"card-header-buttons",children:["/PANTRI/recipes"===a?Object(A.jsx)("button",{value:n.id,onClick:r,className:"title-link",children:"Edit"}):null,Object(A.jsx)("button",{href:"#",value:n.id,onClick:function(e){return c(e)},className:" title-link",children:"\u2715"})]})]}),n.ingredients.length?Object(A.jsxs)("div",{className:"card-body",children:[Object(A.jsx)(G,{recipeId:n.id,ingredients:n.ingredients,pathname:a,ingredientButton:i}),Object(A.jsx)("button",{className:"card-button",onClick:t,value:n.id,children:"/PANTRI/shoppingList"===a?"Done":"Add to Shopping List"})]}):null]})},U=t(220),z=t.n(U);t(442);var _=function(e){var n=e.recipes,t=e.removeFromRecipes,i=e.cardButton,c=e.editRecipeCardButton,r=e.ingredientButton,a={default:n.length<3?n.length:3,1400:2,1e3:1};return Object(A.jsx)("div",{className:"card-list fade-in",children:Object(A.jsx)(z.a,{breakpointCols:a,className:"masonry-grid",columnClassName:"masonry-grid_column",children:n.map((function(e){return null!==e?Object(A.jsx)(q,{removeFromRecipes:t,recipe:e,button:i,editRecipe:c,ingredientButton:r},e.id):null}))})})},J=(t(443),function(e){var n=e.onClick,t=e.isGoogleSignIn,i=e.value,c=e.children;return Object(A.jsx)("button",{className:"".concat(t?"google-sign-in":""," custom-button"),onClick:n,value:i,children:c})}),K=function(e){var n=e.recipes,t=Object(c.useState)(!1),r=Object(d.a)(t,2),a=r[0],s=r[1],o=Object(c.useState)({id:"sort",name:"Sorted Shopping List",link:"",ingredients:[]}),l=Object(d.a)(o,2),u=l[0],j=l[1],b=function(){s(!a)};return Object(A.jsx)(A.Fragment,{children:a?Object(A.jsx)(q,{recipe:u,removeFromRecipes:b,button:b,ingredientButton:function(e){e.preventDefault();var n=e.target.name.split("&"),t=Object(d.a)(n,2),c=(t[0],t[1]),r=u.ingredients.filter((function(e){return e!==c}));j(Object(i.a)(Object(i.a)({},u),{},{ingredients:r}))}}):Object(A.jsx)(J,{value:"Sort shopping",onClick:function(){if(n){var e=n.map((function(e){return e.ingredients})).flat().sort(),t=Object(M.a)(new Set(e)).map((function(n){return[n,e.filter((function(e){return e===n})).length]})).map((function(e,n){return[e[0]+"  X"+e[1]]})).flat();j((function(e){return Object(i.a)(Object(i.a)({},e),{},{ingredients:t})}))}b()},children:"Sort Shopping"})})};var V=function(){var e=Object(j.b)((function(e){return e.firebase.auth})).uid;Object(g.useFirestoreConnect)({collection:"users/".concat(e,"/shoppingList"),storeAs:"shoppingList"});var n=Object(g.useFirestore)(),t=Object(j.b)((function(e){return e.firestore.ordered.shoppingList})),i=n.collection("users").doc(e).collection("shoppingList"),c=function(e){e.preventDefault();var n=e.target.value;i.doc(n).delete().catch((function(e){console.log("error removing document",e)}))};return Object(A.jsxs)("div",{className:"page fade-in",children:[Object(A.jsxs)("div",{className:"page-header",children:[Object(A.jsx)("h2",{className:"title",children:"Shopping List"}),Object(A.jsx)(W,{uid:e}),t&&t.length?Object(A.jsx)(K,{recipes:t}):null]}),t&&t.length?Object(A.jsx)(_,{recipes:t,removeFromRecipes:c,cardButton:c,ingredientButton:function(e){e.preventDefault();var t=e.target.name.split("&"),c=Object(d.a)(t,2),r=c[0],a=c[1];i.doc(r).update({ingredients:n.FieldValue.arrayRemove(a)})}}):Object(A.jsxs)("div",{className:"card",children:[Object(A.jsx)("h2",{children:"No recipes in your shopping list."}),Object(A.jsx)("h2",{children:"Go to Recipes to add some!"})]})]})},H=t(32),Q=t(222),X=(t(444),function(e){var n=e.handleChange,t=e.label,c=Object(Q.a)(e,["handleChange","label"]);return Object(A.jsxs)("div",{className:"group",children:[Object(A.jsx)("input",Object(i.a)(Object(i.a)({onChange:n},c),{},{className:"form-input"})),t?Object(A.jsx)("label",{className:"".concat(c.value.length?"shrink":""," form-input-label"),children:t}):null]})}),$=(t(445),function(e){var n=e.searchField,t=e.searchChange;return Object(A.jsx)("div",{className:"searchbox",children:Object(A.jsx)(X,{type:"search",label:"Search Recipes",onChange:t,value:n})})}),Y=function(){var e=Object(c.useState)({id:"",name:"",link:"",ingredients:[]}),n=Object(d.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)([{ingredient:"",ingredientRef:null}]),s=Object(d.a)(a,2),o=s[0],b=s[1],h=Object(c.useState)(""),f=Object(d.a)(h,2),p=f[0],O=f[1],m=Object(j.b)((function(e){return e.firebase.auth})).uid;Object(g.useFirestoreConnect)({collection:"users/".concat(m,"/recipes"),storeAs:"recipes"});var v=Object(g.useFirestore)(),x=v.collection("users").doc(m).collection("shoppingList"),N=v.collection("users").doc(m).collection("recipes"),w=Object(j.b)((function(e){return e.firestore.ordered.recipes})),k=[];w&&w.length&&(k=w.filter((function(e){if(null!==e)return e.name.toLowerCase().includes(p.toLowerCase())})));var R=function(e){r((function(n){return Object(i.a)(Object(i.a)({},n),{},Object(H.a)({},e.target.name,e.target.value))}))},C=function(){var e=Object(u.a)(l.a.mark((function e(n){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),window.confirm("Are you sure you want to permanently delete this recipe?")&&(t=n.target.value,N.doc(t).delete().then((function(){E("","Deleted","danger")})).catch((function(e){console.log("error removing document",e)})),O(""));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){r((function(e){return Object(i.a)(Object(i.a)({},e),{},{ingredients:o.map((function(e){return e.ingredient})).filter(Boolean)})}))}),[o]),Object(c.useEffect)((function(){var e=[];if(!t.id)return[{ingredient:"",ingredientRef:null}];e=t.ingredients.map((function(e){return{ingredient:e,ingredientRef:null}})),b(e)}),[t.ingredients.length]),Object(A.jsxs)("div",{className:"page fade-in",children:[Object(A.jsxs)("div",{className:"page-header",children:[Object(A.jsx)("h2",{className:"title",children:"Recipe List"}),""===t.id?null:Object(A.jsxs)("article",{className:"card",children:[Object(A.jsx)("h2",{children:"Edit Recipe"}),Object(A.jsxs)("div",{className:"card-body",children:[Object(A.jsx)(X,{name:"name",label:"Recipe Name",handleChange:R,value:t.name,autoComplete:"off"}),Object(A.jsx)(X,{name:"link",label:"Link",handleChange:R,value:t.link,autoComplete:"off"}),Object(A.jsx)(D,{inputList:o,setInputList:b})]}),Object(A.jsx)(J,{value:"editRecipe",onClick:function(e){e.preventDefault(),N.doc(t.id).delete().then((function(){N.add(t).then((function(e){e.update({id:e.id})})).catch((function(e){console.log("error adding replacing with new recipe",e)}))})).catch((function(e){console.log("error removing old recipe",e)})),E(t.name,"edited","info"),r({id:"",name:"",link:"",ingredients:[]}),b([{ingredient:"",ingredientRef:null}])},children:"Done"})]}),Object(A.jsx)($,{searchChange:function(e){O(e.target.value)},searchField:p})]}),k&&k.length?Object(A.jsx)(_,{recipes:k,removeFromRecipes:C,cardButton:function(e){e.preventDefault();var n=e.target.value;w.find((function(e){null!==e.id&&e.id===n&&(x.add(e).then((function(e){e.update({id:e.id})})),E(e.name,"Added to your shopping list","success"))})),O("")},editRecipeCardButton:function(e){e.preventDefault();var n=w.find((function(n){return n.id===e.target.value}));r(n)}}):p.length?Object(A.jsx)("div",{className:"card",children:Object(A.jsx)("h2",{children:"Recipe not found."})}):Object(A.jsxs)("div",{className:"card",children:[Object(A.jsx)("h2",{children:"No recipes in your recipe list."}),Object(A.jsx)("h2",{children:"Go to Add a recipe to add some!"})]})]})};var Z=function(){var e=Object(c.useState)([{ingredient:"",ingredientRef:null}]),n=Object(d.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)({name:"",link:"",ingredients:[]}),s=Object(d.a)(a,2),o=s[0],l=s[1],u=Object(g.useFirestore)(),b=Object(j.b)((function(e){return e.firebase.auth})).uid,h=function(e){var n=e.target,t=n.name,c=n.value;l(Object(i.a)(Object(i.a)({},o),{},Object(H.a)({},t,c)))};return Object(c.useEffect)((function(){var e=t.map((function(e,n){return e.ingredient.toLowerCase()})).filter(Boolean);l(Object(i.a)(Object(i.a)({},o),{},{ingredients:e}))}),[t]),Object(A.jsx)("div",{className:"page fade-in",children:Object(A.jsxs)("div",{className:"page-header",children:[Object(A.jsx)("h2",{className:"title",children:"New Recipe"}),Object(A.jsxs)("div",{className:"card",children:[Object(A.jsx)("h3",{children:"Add a new recipe here"}),Object(A.jsx)(X,{name:"name",label:"Recipe Name",handleChange:h,value:o.name}),Object(A.jsx)(X,{name:"link",label:"Link",handleChange:h,value:o.link}),Object(A.jsx)(D,{inputList:t,setInputList:r,label:"Ingredient"}),Object(A.jsx)(J,{value:"AddRecipe",onClick:function(e){e.preventDefault(),u.collection("users").doc(b).collection("recipes").add(o).then((function(e){e.update({id:e.id})})),E(o.name,"Added to Recipes","success"),l({id:Math.random().toString(36).substr(2,9),name:"",link:"",ingredients:[]}),r([{ingredient:"",ingredientRef:null}])},children:"Add Recipe"})]}),Object(A.jsx)("div",{className:"center ph1 tc w-50-ns w-90"})]})})},ee=(t(446),function(){var e=Object(g.useFirebase)(),n=Object(b.g)(),t=Object(j.b)((function(e){return e.firebase.auth})).uid,r=Object(c.useState)({email:"",password:"",error:!1,errorMessage:""}),a=Object(d.a)(r,2),s=a[0],o=a[1],h=s.email,f=s.password,p=s.error,O=s.errorMessage,m=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),N.signInWithEmailAndPassword(h,f).then((function(){o({email:"",password:"",error:!1})})).catch((function(e){console.log(e),o(Object(i.a)(Object(i.a)({},s),{},{error:!0,errorMessage:"Email or Password incorrect"}))}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(e){var n=e.target,t=n.value,c=n.name;o(Object(i.a)(Object(i.a)({},s),{},Object(H.a)({},c,t)))};return Object(c.useEffect)((function(){t?n.push("/PANTRI/shoppingList"):o((function(e){return Object(i.a)(Object(i.a)({},e),{},{error:!0})}))}),[t,n]),Object(A.jsxs)("div",{className:"sign-in",children:[Object(A.jsx)("h2",{children:"I already have an account"}),Object(A.jsx)("span",{children:"Sign in with your email and password"}),Object(A.jsxs)("form",{className:"sign-in-form",onSubmit:m,children:[Object(A.jsx)(X,{name:"email",type:"email",handleChange:v,value:h,label:"email"}),Object(A.jsx)(X,{name:"password",type:"password",value:f,handleChange:v,label:"password"}),p?Object(A.jsx)("div",{className:"error",children:O}):null,Object(A.jsxs)("div",{className:"button-container",children:[Object(A.jsx)(J,{type:"submit",children:" Sign in "}),Object(A.jsxs)(J,{type:"button",onClick:function(t){t.preventDefault(),e.login({provider:"google",type:"popup"}).then((function(){n.push("/PANTRI/")}))},isGoogleSignIn:!0,children:[" ","Sign in with Google"," "]})]})]}),Object(A.jsx)(F.b,{type:"button",to:"/PANTRI/forgotPassword",children:"Forgot Password?"})]})}),ne=(t(447),function(){var e=Object(c.useState)({displayName:"",email:"",password:"",confirmPassword:"",error:!1,errorMessage:""}),n=Object(d.a)(e,2),t=n[0],r=n[1],a=t.displayName,s=t.email,o=t.password,h=t.confirmPassword,f=t.error,p=t.errorMessage,g=Object(b.g)(),O=Object(j.b)((function(e){return e.firebase.auth})).uid,m=function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),o===h){e.next=4;break}return r(Object(i.a)(Object(i.a)({},t),{},{error:!0,errorMessage:"Passwords don't match"})),e.abrupt("return");case 4:N.createUserWithEmailAndPassword(s,o).then((function(e){console.log(e),r({displayName:"",email:"",password:"",confirmPassword:"",error:!1,errorMessage:""})})).catch((function(e){r(Object(i.a)(Object(i.a)({},t),{},{error:!0,errorMessage:e.message}))}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){O&&g.push("/PANTRI/shoppingList")}),[g,O]);var v=function(e){var n=e.target,c=n.name,a=n.value;r(Object(i.a)(Object(i.a)({},t),{},Object(H.a)({},c,a)))};return Object(A.jsxs)("div",{className:"sign-in",children:[Object(A.jsx)("h2",{className:"title",children:"I do not have a account"}),Object(A.jsx)("span",{children:"Sign up with your email and password"}),Object(A.jsxs)("form",{className:"sign-in-form",onSubmit:m,children:[Object(A.jsx)(X,{type:"text",name:"displayName",value:a,onChange:v,label:"Display Name",required:!0}),Object(A.jsx)(X,{type:"email",name:"email",value:s,onChange:v,label:"Email",required:!0}),Object(A.jsx)(X,{type:"password",name:"password",value:o,onChange:v,label:"Password",required:!0}),Object(A.jsx)(X,{type:"password",name:"confirmPassword",value:h,onChange:v,label:"Confirm Password",required:!0}),f?Object(A.jsx)("div",{className:"error",children:p}):null,Object(A.jsx)(J,{type:"submit",children:"Sign up"})]})]})}),te=(t(448),function(){return Object(A.jsxs)("div",{className:"sign-in-and-sign-up-page",children:[Object(A.jsx)(ee,{}),Object(A.jsx)(ne,{})]})}),ie=(t(449),function(){return Object(A.jsx)("div",{className:"footer",children:"Made by Joe"})}),ce=function(){var e=Object(c.useState)(""),n=Object(d.a)(e,2),t=n[0],i=n[1],r=Object(c.useState)(!1),a=Object(d.a)(r,2),s=a[0],o=a[1],l=Object(c.useState)({}),u=Object(d.a)(l,2),j=u[0],h=u[1],f=Object(b.g)();return Object(c.useEffect)((function(){"Check your inbox for password reset"===j&&setTimeout((function(){return f.push("/PANTRI/")}),3e3)}),[j,f]),Object(A.jsx)("div",{className:"page",children:Object(A.jsxs)("div",{className:"sign-in",children:[Object(A.jsx)("h2",{children:"Forgotten Password"}),Object(A.jsx)(X,{name:"email",type:"email",handleChange:function(e){var n=e.target.value;i(n)},value:t,label:"email"}),s?Object(A.jsx)("div",{className:"error",children:j}):null,Object(A.jsxs)(J,{type:"button",onClick:function(e){e.preventDefault(),N.sendPasswordResetEmail(t).then((function(){h("Check your inbox for password reset"),o(!0)})).catch((function(e){"auth/user-not-found"===e.code?h("Email not found! Check your spelling"):"auth/invalid-email"===e.code?h("Invalid email"):h(e.message),o(!0)}))},children:[" ","Reset Password"," "]})]})})};t(450);function re(){var e=Object(c.useState)(!1),n=Object(d.a)(e,2),t=n[0],i=n[1],r=Object(j.b)((function(e){return e.firebase.auth})).isEmpty;return Object(c.useEffect)((function(){var e=N.onAuthStateChanged(function(){var e=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,x(n);case 3:e.sent.onSnapshot();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());return function(){e()}}),[]),Object(A.jsx)(y.Provider,{value:{showMenu:t,toggleBurgerMenu:function(){i(!t)}},children:Object(A.jsx)(C.a,{MenuComponent:I,children:Object(A.jsxs)("div",{className:"app fade-in",children:[Object(A.jsx)(P.a,{}),Object(A.jsx)(B,{}),Object(A.jsx)("div",{className:"body",children:Object(A.jsxs)(b.d,{children:[Object(A.jsx)(b.b,{path:"/PANTRI/recipes",children:r?Object(A.jsx)(b.a,{to:"/PANTRI/"}):Object(A.jsx)(Y,{})}),Object(A.jsx)(b.b,{path:"/PANTRI/newrecipe",children:r?Object(A.jsx)(b.a,{to:"/PANTRI/"}):Object(A.jsx)(Z,{})}),Object(A.jsx)(b.b,{path:"/PANTRI/shoppingList",children:r?Object(A.jsx)(b.a,{to:"/PANTRI/"}):Object(A.jsx)(V,{})}),Object(A.jsx)(b.b,{exact:!0,path:"/PANTRI/",children:Object(A.jsx)(te,{})}),Object(A.jsx)(b.b,{path:"/PANTRI/forgotpassword",children:Object(A.jsx)(ce,{})})]})}),Object(A.jsx)(T.a,{location:"bottom",buttonText:"Gimmie dem cookies",style:{padding:"5px"},children:"We use cookies to store your recipes to save data usage!"}),Object(A.jsx)(ie,{})]})})})}var ae=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function se(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(j.a,{store:O,children:Object(A.jsx)(g.ReactReduxFirebaseProvider,Object(i.a)(Object(i.a)({},v),{},{children:Object(A.jsx)(F.a,{children:Object(A.jsx)(re,{})})}))})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/PANTRI",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/PANTRI","/service-worker.js");ae?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var i=t.headers.get("content-type");404===t.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):se(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):se(n,e)}))}}()}},[[451,1,2]]]);
//# sourceMappingURL=main.10e8e279.chunk.js.map