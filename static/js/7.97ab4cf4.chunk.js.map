{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/custom-input/custom-input.component.jsx","pages/recipes/recipes.utils.jsx","App/useDebounce.utils.jsx","components/search-box/searchbox.component.js","components/new-recipe/new-recipe.component.js","components/edit-recipe/edit-recipe.component.jsx","pages/recipes/recipes.component.js"],"names":["_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","CustomInput","props","handleChange","label","otherProps","className","onChange","value","updateRecipe","item","ref","a","doc","id","update","then","response","catch","error","console","log","useDebounce","delay","useState","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","SearchBox","searchField","searchChange","type","NewRecipe","ingredient","ingredientRef","inputList","setInputList","name","link","ingredients","newRecipe","setNewRecipe","setError","showNewRecipeCard","setShowNewRecipeCard","firestore","useFirestore","uid","useSelector","state","firebase","auth","recipesCollectionRef","collection","event","handleAddNewRecipeClick","e","preventDefault","addToFirebaseCollection","notification","map","input","toLowerCase","filter","Boolean","required","onClick","style","margin","EditRecipe","editingRecipe","setEditingRecipe","prevState","newState","handleInputEditChange","autoComplete","Recipes","setSearchField","debouncedSearchTerm","recipes","ordered","isloading","status","requesting","loaded","requested","recipesFiltered","recipeList","forEach","recipe","includes","some","push","filteredRecipesByIngredientAndName","useFirestoreConnect","storeAs","shoppingListCollectionRef","handleRemoveFromRecipesClick","window","confirm","recipeId","recipeToRemove","findRecipe","removeFromFirebaseCollection","handleAddToShoppingListClick","recipeToAdd","handleUpdateRecipeClick","title","removeFromRecipes","cardButton","editRecipeCardButton","foundRecipe","undefined"],"mappings":"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","file":"static/js/7.97ab4cf4.chunk.js","sourcesContent":["import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from \"react\";\r\n\r\nimport \"./custom-input.styles.scss\";\r\n\r\nconst CustomInput = (props) => {\r\n  const { handleChange, label, ...otherProps } = props;\r\n  return (\r\n    <div className=\"group\">\r\n      <input onChange={handleChange} {...otherProps} className=\"form-input\" />\r\n      {label ? (\r\n        <label\r\n          className={`${\r\n            otherProps.value.length ? \"shrink\" : \"\"\r\n          } form-input-label`}\r\n        >\r\n          {label}\r\n        </label>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomInput;\r\n","export const filteredRecipesByIngredientAndName = (\r\n  recipeList,\r\n  debouncedSearchTerm\r\n) => {\r\n  let recipes = [];\r\n  if (!recipeList) {\r\n    return recipes;\r\n  }\r\n  if (!debouncedSearchTerm) {\r\n    return recipeList;\r\n  }\r\n\r\n  recipeList.forEach((recipe) => {\r\n    if (!recipe.name || !recipe.ingredients.length) {\r\n      return;\r\n    } else if (\r\n      // Search the recipeName for the searchTerm\r\n      recipe.name.toLowerCase().includes(debouncedSearchTerm.toLowerCase())\r\n    ) {\r\n      recipes.push(recipe);\r\n    } else if (\r\n      // Search the ingredients for the searchTerm\r\n      recipe.ingredients.some((ingredient) => {\r\n        return ingredient\r\n          .toLowerCase()\r\n          .includes(debouncedSearchTerm.toLowerCase());\r\n      })\r\n    ) {\r\n      recipes.push(recipe);\r\n    }\r\n  });\r\n\r\n  return recipes;\r\n};\r\n\r\nexport const updateRecipe = async (item, ref) => {\r\n  let response;\r\n  await ref\r\n    .doc(item.id)\r\n    .update(item)\r\n    .then((response = \"succeeded\"))\r\n    .catch((error) => {\r\n      response = \"failed\";\r\n      console.log(\"error updating recipe\", error);\r\n    });\r\n  return response;\r\n};\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst useDebounce = (value, delay) => {\r\n  const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n  useEffect(() => {\r\n    const handler = setTimeout(() => {\r\n      setDebouncedValue(value);\r\n    }, delay);\r\n\r\n    return () => {\r\n      clearTimeout(handler);\r\n    };\r\n  }, [value, delay]);\r\n\r\n  return debouncedValue;\r\n};\r\n\r\nexport default useDebounce;\r\n","import React from \"react\";\r\nimport CustomInput from \"../custom-input/custom-input.component\";\r\n\r\nimport \"./searchbox.styles.scss\";\r\n\r\nconst SearchBox = ({ searchField, searchChange }) => {\r\n  return (\r\n    <div className=\"searchbox\">\r\n      <CustomInput\r\n        type=\"search\"\r\n        label=\"Search Recipes\"\r\n        onChange={searchChange}\r\n        value={searchField}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useFirestore } from \"react-redux-firebase\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { notification, addToFirebaseCollection } from \"../../App/app.utils\";\r\nimport CustomButton from \"../custom-button/custom-button.component.jsx\";\r\nimport IngredientInput from \"../ingredient-input/ingredient-input.component.js\";\r\nimport CustomInput from \"../custom-input/custom-input.component\";\r\n\r\n// const ID = () => {\r\n//   return Math.random().toString(36).substr(2, 9);\r\n// };\r\nfunction NewRecipe() {\r\n  const [inputList, setInputList] = useState([\r\n    { ingredient: \"\", ingredientRef: null },\r\n  ]);\r\n  const [newRecipe, setNewRecipe] = useState({\r\n    name: \"\",\r\n    link: \"\",\r\n    ingredients: [],\r\n  });\r\n  const [error, setError] = useState(false);\r\n  const [showNewRecipeCard, setShowNewRecipeCard] = useState(false);\r\n\r\n  const firestore = useFirestore();\r\n  const { uid } = useSelector((state) => state.firebase.auth);\r\n  const recipesCollectionRef = firestore\r\n    .collection(\"users\")\r\n    .doc(uid)\r\n    .collection(\"recipes\");\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setNewRecipe({ ...newRecipe, [name]: value });\r\n  };\r\n\r\n  const handleAddNewRecipeClick = async (e) => {\r\n    e.preventDefault();\r\n    if (!newRecipe.name) {\r\n      setError(true);\r\n    } else {\r\n      const response = await addToFirebaseCollection(\r\n        newRecipe,\r\n        recipesCollectionRef\r\n      );\r\n      if (response === \"error\") {\r\n        notification(\r\n          \"Error\",\r\n          \"error adding new recipe, please try again\",\r\n          \"danger\"\r\n        );\r\n      } else {\r\n        setError(false);\r\n        notification(newRecipe.name, \"Added to Recipes\", \"success\");\r\n        setNewRecipe({ name: \"\", link: \"\", ingredients: [] });\r\n        setInputList([{ ingredient: \"\", ingredientRef: null }]);\r\n        setShowNewRecipeCard(!showNewRecipeCard);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let ingredients = inputList\r\n      .map((input, i) => {\r\n        return input.ingredient.toLowerCase();\r\n      })\r\n      .filter(Boolean);\r\n    setNewRecipe({ ...newRecipe, ingredients: ingredients });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [inputList]);\r\n\r\n  const handleShowNewRecipeClick = (e) => {\r\n    e.preventDefault();\r\n    setShowNewRecipeCard(!showNewRecipeCard);\r\n  };\r\n\r\n  const handleCancelClick = (e) => {\r\n    e.preventDefault();\r\n    setShowNewRecipeCard(false);\r\n    setError(false);\r\n  };\r\n\r\n  return !showNewRecipeCard ? (\r\n    <div style={{ margin: \"0 5%\" }}>\r\n      <CustomButton value=\"newRecipe\" onClick={handleShowNewRecipeClick}>\r\n        Add a Recipe\r\n      </CustomButton>\r\n    </div>\r\n  ) : (\r\n    <div className=\"card\">\r\n      <h3 className=\"new-recipe-title\">Add a new recipe</h3>\r\n      <CustomInput\r\n        name=\"name\"\r\n        label=\"Recipe Name\"\r\n        handleChange={handleChange}\r\n        value={newRecipe.name}\r\n        required\r\n      />\r\n      {error ? <div className=\"error\">Recipe name required</div> : null}\r\n      <CustomInput\r\n        name=\"link\"\r\n        label=\"Link\"\r\n        handleChange={handleChange}\r\n        value={newRecipe.link}\r\n      />\r\n      <IngredientInput\r\n        inputList={inputList}\r\n        setInputList={setInputList}\r\n        label=\"Ingredient\"\r\n      />\r\n      <div className=\"new-recipe-button-group\">\r\n        <CustomButton value=\"AddRecipe\" onClick={handleAddNewRecipeClick}>\r\n          Add Recipe\r\n        </CustomButton>\r\n        <CustomButton value=\"Cancel\" onClick={handleCancelClick}>\r\n          Cancel\r\n        </CustomButton>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewRecipe;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport CustomButton from \"../custom-button/custom-button.component\";\r\nimport CustomInput from \"../custom-input/custom-input.component\";\r\nimport IngredientInput from \"../ingredient-input/ingredient-input.component\";\r\n\r\nconst EditRecipe = ({ editingRecipe, setEditingRecipe, updateRecipe }) => {\r\n  const [inputList, setInputList] = useState([\r\n    {\r\n      ingredient: \"\",\r\n      ingredientRef: null,\r\n    },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    setEditingRecipe((prevState) => ({\r\n      ...prevState,\r\n      ingredients: inputList\r\n        .map((item) => {\r\n          return item.ingredient;\r\n        })\r\n        .filter(Boolean),\r\n    }));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [inputList]);\r\n\r\n  useEffect(() => {\r\n    let newState = [];\r\n    if (editingRecipe.id) {\r\n      newState = editingRecipe.ingredients.map((ingredient) => {\r\n        return { ingredient: ingredient, ingredientRef: null };\r\n      });\r\n    } else {\r\n      return (newState = [\r\n        {\r\n          ingredient: \"\",\r\n          ingredientRef: null,\r\n        },\r\n      ]);\r\n    }\r\n    setInputList(newState);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [editingRecipe.ingredients.length]);\r\n\r\n  const handleInputEditChange = (event) => {\r\n    setEditingRecipe((prevState) => ({\r\n      ...prevState,\r\n      [event.target.name]: event.target.value,\r\n    }));\r\n  };\r\n\r\n  const handleCancelClick = (e) => {\r\n    e.preventDefault();\r\n    setEditingRecipe({\r\n      id: \"\",\r\n      name: \"\",\r\n      ingredients: [],\r\n      link: \"\",\r\n    });\r\n  };\r\n\r\n  return !editingRecipe.id ? null : (\r\n    <article className=\"card\">\r\n      <h2>Edit Recipe</h2>\r\n\r\n      <div className=\"card-body\">\r\n        <CustomInput\r\n          name=\"name\"\r\n          label=\"Recipe Name\"\r\n          handleChange={handleInputEditChange}\r\n          value={editingRecipe.name}\r\n          autoComplete=\"off\"\r\n        />\r\n        <CustomInput\r\n          name=\"link\"\r\n          label=\"Link\"\r\n          handleChange={handleInputEditChange}\r\n          value={editingRecipe.link}\r\n          autoComplete=\"off\"\r\n        />\r\n        <IngredientInput inputList={inputList} setInputList={setInputList} />\r\n      </div>\r\n      <div className=\"new-recipe-button-group\">\r\n        <CustomButton value=\"editRecipe\" onClick={updateRecipe}>\r\n          Done\r\n        </CustomButton>\r\n        <CustomButton value=\"Cancel\" onClick={handleCancelClick}>\r\n          Cancel\r\n        </CustomButton>\r\n      </div>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default EditRecipe;\r\n","import { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useFirestoreConnect, useFirestore } from \"react-redux-firebase\";\r\nimport { notification } from \"../../App/app.utils\";\r\nimport {\r\n  updateRecipe,\r\n  filteredRecipesByIngredientAndName,\r\n} from \"./recipes.utils\";\r\n\r\nimport {\r\n  findRecipe,\r\n  addToFirebaseCollection,\r\n  removeFromFirebaseCollection,\r\n} from \"../../App/app.utils\";\r\nimport useDebounce from \"../../App/useDebounce.utils\";\r\n\r\nimport CardList from \"../../components/cardList/card-list.component\";\r\nimport SearchBox from \"../../components/search-box/searchbox.component.js\";\r\nimport NewRecipe from \"../../components/new-recipe/new-recipe.component\";\r\nimport EditRecipe from \"../../components/edit-recipe/edit-recipe.component\";\r\nimport PageContainer from \"../../components/page-container/page-container\";\r\nimport PageHeaderContainer from \"../../components/page-header-container/page-header-container\";\r\n\r\nconst Recipes = () => {\r\n  const [editingRecipe, setEditingRecipe] = useState({\r\n    id: \"\",\r\n    name: \"\",\r\n    link: \"\",\r\n    ingredients: [],\r\n  });\r\n  const [searchField, setSearchField] = useState(\"\");\r\n  const debouncedSearchTerm = useDebounce(searchField, 200);\r\n\r\n  const firestore = useFirestore();\r\n  const uid = useSelector((state) => state.firebase.auth.uid);\r\n  const recipes = useSelector((state) => state.firestore.ordered.recipes);\r\n  const isloading = useSelector(\r\n    (state) => state.firestore.status.requesting.recipes\r\n  );\r\n  const loaded = useSelector(\r\n    (state) => state.firestore.status.requested.recipes\r\n  );\r\n  const recipesFiltered = filteredRecipesByIngredientAndName(\r\n    recipes,\r\n    debouncedSearchTerm\r\n  );\r\n  useFirestoreConnect({\r\n    collection: `users/${uid}/recipes`,\r\n    storeAs: \"recipes\",\r\n  });\r\n\r\n  const shoppingListCollectionRef = firestore\r\n    .collection(\"users\")\r\n    .doc(uid)\r\n    .collection(\"shoppingList\");\r\n\r\n  const recipesCollectionRef = firestore\r\n    .collection(\"users\")\r\n    .doc(uid)\r\n    .collection(\"recipes\");\r\n\r\n  const handleRemoveFromRecipesClick = async (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      window.confirm(\"Are you sure you want to permanently delete this recipe?\")\r\n    ) {\r\n      const recipeId = e.target.value;\r\n      const recipeToRemove = findRecipe(recipeId, recipes);\r\n      const response = await removeFromFirebaseCollection(\r\n        recipeToRemove,\r\n        recipesCollectionRef\r\n      );\r\n      if (response === \"error\") {\r\n        notification(\r\n          \"Error\",\r\n          \"error removing recipe, please try again\",\r\n          \"danger\"\r\n        );\r\n      } else {\r\n        notification(response.name, \"Deleted\", \"success\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const onSearchChange = (event) => {\r\n    setSearchField(event.target.value);\r\n  };\r\n\r\n  const handleAddToShoppingListClick = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const recipeToAdd = findRecipe(e.target.value, recipes);\r\n\r\n    const response = await addToFirebaseCollection(\r\n      recipeToAdd,\r\n      shoppingListCollectionRef\r\n    );\r\n    if (response === \"error\") {\r\n      notification(\"Error\", \"error adding to shopping list\", \"danger\");\r\n    } else {\r\n      notification(response.name, \"Added to your shopping list\", \"success\");\r\n      setSearchField(\"\");\r\n    }\r\n  };\r\n\r\n  const handleEditRecipeCardButtonClick = (e) => {\r\n    e.preventDefault();\r\n    const foundRecipe = findRecipe(e.target.value, recipes);\r\n    if (foundRecipe === undefined) {\r\n      notification(\r\n        \"error\",\r\n        \"error finding recipe, please contact admin to resolve issue\",\r\n        \"danger\"\r\n      );\r\n    } else {\r\n      setEditingRecipe(foundRecipe);\r\n    }\r\n  };\r\n\r\n  const handleUpdateRecipeClick = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const response = await updateRecipe(editingRecipe, recipesCollectionRef);\r\n    if (response === \"succeeded\") {\r\n      setEditingRecipe({\r\n        id: \"\",\r\n        name: \"\",\r\n        link: \"\",\r\n        ingredients: [],\r\n      });\r\n      notification(editingRecipe.name, \"updated\", \"info\");\r\n    } else {\r\n      notification(\"Error\", \"error updating recipe, please try again\", \"info\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    !isloading && (\r\n      <PageContainer>\r\n        <PageHeaderContainer title=\"Recipe List\">\r\n          <EditRecipe\r\n            editingRecipe={editingRecipe}\r\n            setEditingRecipe={setEditingRecipe}\r\n            updateRecipe={handleUpdateRecipeClick}\r\n          />\r\n          <NewRecipe />\r\n          <SearchBox searchChange={onSearchChange} searchField={searchField} />\r\n        </PageHeaderContainer>\r\n        {!isloading && loaded && recipesFiltered.length ? (\r\n          <CardList\r\n            recipes={recipesFiltered}\r\n            removeFromRecipes={handleRemoveFromRecipesClick}\r\n            cardButton={handleAddToShoppingListClick}\r\n            editRecipeCardButton={handleEditRecipeCardButtonClick}\r\n          />\r\n        ) : searchField ? (\r\n          <div className=\"card\">\r\n            <h2>Recipe not found.</h2>\r\n          </div>\r\n        ) : (\r\n          <div className=\"card\">\r\n            <h2>No recipes in your recipe list.</h2>\r\n            <h2>Click add a recipe above to add some!</h2>\r\n          </div>\r\n        )}\r\n      </PageContainer>\r\n    )\r\n  );\r\n};\r\n\r\nexport default Recipes;\r\n"],"sourceRoot":""}